Copyright (C) ST-Ericsson AB 2010
Author: Sjur Brendeland/ sjur.brandeland@stericsson.com
License terms: GNU General Public License (GPL) version 2
---------------------------------------------------------

=== Start ===
If you have compiled CAIF for modules do:

$modprobe crc_ccitt
$modprobe caif
$modprobe caif_socket
$modprobe chnl_net


=== Preparing the setup with a STE modem ===

If you are working on integration of CAIF you should make sure
that the kernel is built with module support.

There are some things that need to be tweaked to get the host TTY correctly
set up to talk to the modem.
Since the CAIF stack is running in the kernel and we want to use the existing
TTY, we are installing our physical serial driver as a line discipline above
the TTY device.

To achieve this we need to install the N_CAIF ldisc from user space.
The benefit is that we can hook up to any TTY.

The use of Start-of-frame-extension (STX) must also be set as
module parameter "ser_use_stx".

Normally Frame Checksum is always used on UART, but this is also provided as a
module parameter "ser_use_fcs".

$ modprobe caif_serial ser_ttyname=/dev/ttyS0 ser_use_stx=yes
$ ifconfig caif_ttyS0 up

PLEASE NOTE: 	There is a limitation in Android shell.
		It only accepts one argument to insmod/modprobe!

=== Trouble shooting ===

There are debugfs parameters provided for serial communication.
/sys/kernel/debug/caif_serial/<tty-name>/

* ser_state:   Prints the bit-mask status where
  - 0x02 means SENDING, this is a transient state.
  - 0x10 means FLOW_OFF_SENT, i.e. the previous frame has not been sent
	and is blocking further send operation. Flow OFF has been propagated
	to all CAIF Channels using this TTY.

* tty_status: Prints the bit-mask tty status information
  - 0x01 - tty->warned is on.
  - 0x02 - tty->low_latency is on.
  - 0x04 - tty->packed is on.
  - 0x08 - tty->flow_stopped is on.
  -
// SPDX-License-Identifier: (GPL-2.0+ OR MIT)
/*
 * Copyright 2018
 * Lukasz Majewski, DENX Software Engineering, lukma@denx.de
 */

/dts-v1/;
#include "imx53-tqma53.dtsi"
#include <dt-bindings/input/input.h>

/ {
	buzzer {
		compatible = "pwm-beeper";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_buzzer>;
		pwms = <&pwm1 0 500000>;
	};

	gpio-buttons {
		compatible = "gpio-keys";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_gpiobuttons>;

		button-kalt {
			label = "Kaltstart";
			linux,code = <KEY_F6>;
			gpios = <&gpio2 26 GPIO_ACTIVE_HIGH>;
		};

		button-pwr {
			label = "PowerFailInterrupt";
			linux,code = <KEY_F7>;
			gpios = <&gpio3 22 GPIO_ACTIVE_HIGH>;
		};
	};

	leds {
		compatible = "gpio-leds";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_leds>;

		led-bus {
			label = "bus";
			gpios = <&gpio2 30 GPIO_ACTIVE_HIGH>;
			linux,default-trigger = "gpio";
			default-state = "off";
		};

		led-error {
			label = "error";
			gpios = <&gpio3 28 GPIO_ACTIVE_HIGH>;
			linux,default-trigger = "gpio";
			default-state = "off";
		};

		led-flash {
			label = "flash";
			gpios = <&gpio5 0 GPIO_ACTIVE_HIGH>;
			linux,default-trigger = "heartbeat";
		};
	};

	reg_3v3: regulator-3v3 {
		compatible = "regulator-fixed";
		regulator-name = "3V3";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
		regulator-always-on;
	};
};

&can1 {
	status = "okay";
};

&can2 {
	status = "okay";
};

&i2c3 {
	status = "okay";

	gpio-expander1@22 {
		compatible = "nxp,pcf8574";
		r